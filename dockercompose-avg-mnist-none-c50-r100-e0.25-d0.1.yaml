services:

  server:
    image: 'server-flwr:latest'
    logging:
      driver: local
    container_name: fl_server
    profiles:
      - server
    environment:
      - SERVER_IP=0.0.0.0:9999
      - NUM_CLIENTS=50
      - NUM_ROUNDS=100
      - DATASET=MNIST
      - STRATEGY=AVG
      - PERC_OF_CLIENTS=0.25
      - DECAY=0.0
      - ENGAGED_CLIENTS=20,18,32,46,1,37,23,13,40,48,47,19
      - SELECT_CLIENT_METHOD=None
      - EXPLOITATION=0.0
      - EXPLORATION=0.0
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
      - LEAST_SELECT_FACTOR=0.0
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./server/strategies_manager.py:/app/strategies_manager.py:r
      - ./server/strategies:/app/strategies/:r
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==manager
    

  client-0:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=0
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-1:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=1
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=True
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-2:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=2
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-3:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=3
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-4:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=4
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-5:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=5
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-6:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=6
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-7:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=7
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-8:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=8
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-9:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=9
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-10:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=10
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-11:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=11
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-12:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=12
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-13:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=13
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=True
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-14:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=14
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-15:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=15
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-16:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=16
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-17:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=17
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-18:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=18
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=True
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-19:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=19
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=True
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-20:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=20
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=True
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-21:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=21
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-22:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=22
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-23:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=23
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=True
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-24:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=24
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-25:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=25
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-26:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=26
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-27:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=27
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-28:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=28
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-29:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=29
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-30:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=30
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-31:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=31
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-32:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=32
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=True
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-33:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=33
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-34:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=34
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-35:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=35
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-36:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=36
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-37:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=37
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=True
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-38:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=38
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-39:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=39
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-40:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=40
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=True
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-41:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=41
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-42:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=42
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-43:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=43
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-44:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=44
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-45:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=45
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-46:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=46
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=True
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-47:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=47
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=True
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-48:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=48
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=True
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

  client-49:
    image: 'client-flwr:latest'
    logging:
      driver: local
    profiles:
      - client
    environment:
      - SERVER_IP=fl_server:9999
      - CLIENT_ID=49
      - NUM_CLIENTS=50
      - DATASET=MNIST
      - STRATEGY=AVG
      - LOCAL_EPOCHS=1
      - NO_IDD=True
      - PARTICIPATE=False
      - DIRICHLET_ALPHA=0.1
      - SELECT_CLIENT_METHOD=None
      - LOG_FOULDER=/avg/MNIST/50/engaged_0.25/dirichlet_0.1
    volumes:
      - ./logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:/logs/avg/MNIST/50/engaged_0.25/dirichlet_0.1:rw
      - ./client/strategies_manager.py:/client/strategies_manager.py:r
      - ./client/strategies:/client/strategies/:r
      - ./client/strategies/engagement_strategy:/client/strategies/engagement_strategy/
    networks:
      - default
    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role==worker
          

